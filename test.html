<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="public_new/js/libs/bootstrap/scss/bootstrap.css">
    <script src="public_new/js/jquery-3.4.1.min.js"></script>
    <script src="public_new/js/libs/elevatezoom/jquery.ez-plus.js"></script>
</head>
<body>

<div class="container">
    <div class="zoomWrapper">
        <img class="zoom-img" id="zoom_03" src="https://igorlino.github.io/elevatezoom-plus/images/small/image1.jpg"
             data-zoom-image="https://igorlino.github.io/elevatezoom-plus/images/large/image1.jpg"/>
    </div>
    <div id="gallery_01">
        <a href="javascript:;" data-image="https://igorlino.github.io/elevatezoom-plus/images/small/image1.jpg"
           data-zoom-image="https://igorlino.github.io/elevatezoom-plus/images/large/image1.jpg">
            <img id="img_01" src="https://igorlino.github.io/elevatezoom-plus/images/thumb/image1.jpg"/>
        </a>
        <a href="javascript:;" data-image="https://igorlino.github.io/elevatezoom-plus/images/small/image2.jpg"
           data-zoom-image="https://igorlino.github.io/elevatezoom-plus/images/large/image2.jpg">
            <img id="img_01" src="https://igorlino.github.io/elevatezoom-plus/images/thumb/image2.jpg"/>
        </a>
        <a href="javascript:;" data-image="https://igorlino.github.io/elevatezoom-plus/images/small/image3.jpg"
           data-zoom-image="https://igorlino.github.io/elevatezoom-plus/images/large/image3.jpg">
            <img id="img_01" src="https://igorlino.github.io/elevatezoom-plus/images/thumb/image3.jpg"/>
        </a>
        <a href="javascript:;" data-image="https://igorlino.github.io/elevatezoom-plus/images/small/image4.jpg"
           data-zoom-image="https://igorlino.github.io/elevatezoom-plus/images/large/image4.jpg">
            <img id="img_01" src="https://igorlino.github.io/elevatezoom-plus/images/thumb/image4.jpg"/>
        </a>
    </div>

    <article class="gallery-wrap">
        <div class="img-big-wrap">
            <div class="position-relative">
                <img class="position-absolute lozad cz-image-zoom"
                     id="cz-image-zoom"
                     alt="<?php echo htmlspecialchars($product->name); ?>"
                     width="100%"
                     height="100%"
                     src="public_new/svg/holder.svg"
                     data-src="<?php echo $this->configItem('productPictureBaseUrl').'/'.$product->defaultLargePicture; ?>"
                     data-zoom="<?php
                                     foreach ($product->pictures as $picture)
                                     {
                                         if( $product->defaultLargePicture == $picture->largePicture)
                                         {
                                             if($picture->image_HD != null && strlen($picture->image_HD) >0 )
                                                 echo $this->configItem('productPictureBaseUrl').'/'.$picture->image_HD;
                                         }
                                     }
                                     ?>">
                <div class="cz-image-zoom-pane"></div>
                <!--                                <div class="position-absolute cz-loading">Loading..</div>-->
                <img src="public_new/svg/holder.svg" width="100%" alt="holder">
            </div>
        </div> <!-- slider-product.// -->
        <div class="thumbs-wrap mx-1" data-simplebar data-simplebar-auto-hide="false">
            <div class="d-flex flex-wrap justify-content-start">
                <?php if(!empty($product->pictures)): ?>
                <?php foreach ($product->pictures as $picture): ?>
                <a href="javascript:;" class="item-thumb <?php echo $picture->largePicture == $product->defaultLargePicture ? 'active' : ''; ?>">
                    <img width="100%" height="100%"
                         class="lozad"
                         src="public_new/svg/holder.svg"
                         data-src="<?php echo $this->configItem('productPictureBaseUrl').'/'.$picture->smallPicture; ?>"
                         data-origin="<?php echo $this->configItem('productPictureBaseUrl').'/'.$picture->largePicture; ?>"
                         data-origin-zoom="<?php echo ($picture->image_HD==null || strlen($picture->image_HD) == 0 )?'':$this->configItem('productPictureBaseUrl').'/'.$picture->image_HD; ?>"
                    >
                </a>
                <?php endforeach; ?>
                <?php endif; ?>
            </div>
        </div>
    </article>

</div>

<script>

    function getDeviceFlag() {
        var bodyElementStyle = getComputedStyle(document.body, '::before');
        return window.deviceFlag = bodyElementStyle.content;
    }


    $(document).ready(function () {
        // initEZPlusInner();
        initEZPlusPointer();

        function initEZPlusInner() {
            $('#zoom_03').ezPlus({
                constrainType: 'height',
                // constrainSize: 274,
                zoomType: 'inner',
                containLensZoom: true,
                gallery: 'gallery_01',
                cursor: 'pointer',
                borderSize: 1,
                galleryActiveClass: 'active'
            });
        }

        function initEZPlusPointer() {
            $('#zoom_03').ezPlus({
                gallery: 'gallery_01',
                cursor: 'pointer',
                scrollZoom: true,
                zoomWindowWidth: 300,
                zoomWindowHeight: 300,

                borderSize: 1,
                galleryActiveClass: 'active',
                imageCrossfade: true,
                loadingIcon: 'https://www.elevateweb.co.uk/spinner.gif'
            });
        }
    });

</script>

</body>
</html>